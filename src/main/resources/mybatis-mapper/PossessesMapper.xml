<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.stock.db.mapper.PossessesMapper">

    <select id = "findPossesses" resultType="com.stock.db.domain.PossessesVO">
        SELECT * FROM POSSESSES WHERE mno = #{mno} and cno = #{cno} ;
    </select>

    <insert id="reflectPossesses" parameterType="com.stock.db.dto.Possesses.PossessesDto">
        INSERT INTO POSSESSES
        VALUES(#{mno}, #{cno}, #{quantity}, #{avgPrice})
        ON DUPLICATE KEY
        UPDATE quantity = #{quantity}, avg_price = #{avgPrice};
    </insert>

</mapper>